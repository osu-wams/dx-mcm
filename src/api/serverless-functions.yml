apiPublisher:
  handler: src/api/publisher.handler
  name: ${self:service.name}-apiPublisher
  description: Posts API calls to the SNS topic for lambda subscribers to act upon.
  environment:
    SNS_TOPIC_ARN: !Ref apiSnsTopic
  events:
    - http:
        private: true # forces header x-api-key to be present with a valid key from provider.apiKeys
        method: post
        path: /api/{action}
        request:
          parameters:
            paths:
              action: true
