messagesPublisher:
  handler: src/api/messages.handler
  name: ${self:service.name}-messagesPublisher
  description: Posts API calls to the SNS topic for lambda subscribers to act upon.
  environment:
    SNS_TOPIC_ARN: !Ref apiSnsTopic
  events:
    - http:
        private: true # forces header x-api-key to be present with a valid key from provider.apiKeys
        method: post
        path: /api/v1/messages/{action}
        request:
          parameters:
            paths:
              action: true
